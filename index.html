<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Dark Mode Test</title>
<style>
  body {
    transition: background-color 0.3s, color 0.3s;
    background: white;
    color: black;
  }
  body.dark {
    background: #121212;
    color: white;
  }
  #darkModeToggle {
    padding: 10px 20px;
    margin: 20px;
    cursor: pointer;
  }
</style>
</head>
<body>

<button id="darkModeToggle">Dark Mode</button>

<script>
  const toggleBtn = document.getElementById('darkModeToggle');

  function setDarkMode(isDark) {
    if (isDark) {
      document.body.classList.add('dark');
      toggleBtn.textContent = 'Light Mode';
      localStorage.setItem('darkMode', 'true');
      console.log('Dark mode enabled');
    } else {
      document.body.classList.remove('dark');
      toggleBtn.textContent = 'Dark Mode';
      localStorage.setItem('darkMode', 'false');
      console.log('Dark mode disabled');
    }
  }

  // On page load
  window.addEventListener('DOMContentLoaded', () => {
    const saved = localStorage.getItem('darkMode');
    if (saved === 'true') {
      setDarkMode(true);
    } else if (saved === 'false') {
      setDarkMode(false);
    } else {
      // No preference saved, detect system preference
      const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
      setDarkMode(prefersDark);
    }
  });

  toggleBtn.addEventListener('click', () => {
    const isDark = document.body.classList.toggle('dark');
    setDarkMode(isDark);
  });
</script>

</body>
</html>
